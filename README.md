# JPA_STUDY
JPA STUDY 정리


직렬화 : 개체를 파일로 저장
역직렬화 : 저장된 파일을 객체로 복구.

관계형 데이터 베이스
- 구성 : 테이블 (키- key + 값-value)
- 데이터의 종속성을 관계라고 표현



jpa 문법

- 저장 : persist()메소드
- 조회 : find() 메소드 


** 메이븐(maven) && 그래들(gradle)
- 메이븐 : 자바용 프로젝트 관리 도구
- 그래들: groovy를 이용한 빌드 자동화 시스템.



### JPQL 
jpql :엔티티 객체를 조회하는 객체지향 쿼리 언어.
        sql 과 비슷한 문법을 가진 객체 지향 쿼리. -> jpa에서 제공하는 메서드 호출만으로는 섬세한 쿼리 작성이 어렵다.
ex) find()메서드: 식별자를 통해서만 데이터 조회를 함(조건문x,모든 칼럼을 조회.)==>복잡한 검색을 수행할 수 없다. 즉, JPQL이 나오게된 배경.

특징)
1. 테이블이 아닌 객체를 검색하는 객체지향 쿼리
2. SQL을 추상화 한것 == 특정 벤더에 종속적이지 않다.
3. JPA는 JPQL을 분석하여 SQL을 생성한 후 DB에서 조회한다.
** JPQL은 데이터베이스 테이블을 전혀 알지 못한다.

기본 문법)
1. 대소문자 구분.
- 엔티티와 속성은 대소문자를 구분.
-but, JPQL은 대소문자를 구분하지 않는다.

2. 엔티티 이름 
- from 뒤에 나오는 이름 == 엔티티이름 : @Entity(name="")으로 설정한 엔티티이름 / name 속성을 생략하면 기본값으로 클래스이름을 사용.








### 3장. 영속성 관리

#### [3.1] 엔티티 매니저 팩토리와 엔티티 매니저
1) 엔티티 매니저 팩토리 
	-  엔티티 매니저를 만드는 공장
	- 여러 스레트가 동시에 접근 가능
	- 여러 스레드간의 공유 가능
2) 엔티티 매니저
	- 여러스레드 동시 접근시 동시성 문제 발생
	- 스레드 간의 절대 공유 안된다.
	- 데이터베이스 연결이 꼭 필요한 시점까지 커넥션을 얻지 않는다.


#### [3.2] 영속성 컨텍스트

*** 영속성 컨텍스트 
	- 엔티티를 영구 저장하는 환경.
	- persist() 메소드는 엔티티 매니저를 사용해서 회원 엔티티를 영속성 컨텍스트에 저장.

#### [3.3] 엔티티의 생명주기 
- 비영속 : 영속성 컨텍스트와 전혀 관계가 없는상태
- 영속 : 영속성 컨텍스트에 저장된 상태
- 준영속 : 영속성 컨텍스트에 저장되었다가 분리된 상태
- 삭제 : 삭제된 상태

1) 비영속
- 엔티티 객체를 생성 했다.









